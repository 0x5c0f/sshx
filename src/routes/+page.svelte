<script lang="ts">
  import {
    CastIcon,
    HardDriveIcon,
    ImageIcon,
    LockIcon,
    RefreshCwIcon,
    Share2Icon,
  } from "svelte-feather-icons";

  import logotypeDark from "$lib/assets/logotype-dark.svg";
  import landingGraphic from "$lib/assets/landing-graphic.svg";
  import landingBackground from "$lib/assets/landing-background.svg";
  import TeaserImage from "$lib/ui/TeaserImage.svelte";

  let installationEl: HTMLDivElement;

  const installs = [
    {
      title: "macOS / Linux",
      steps: `curl -sSf https://sshx.io/get | sh`,
    },
    {
      title: "Rust (from source)",
      steps: `cargo install sshx`,
    },
  ];

  const socials = [
    {
      title: "ğŸ¤–\xa0 GitHub",
      href: "https://github.com/ekzhang/sshx",
    },
    {
      title: "ğŸŒ¸\xa0 Twitter",
      href: "https://twitter.com/ekzhang1",
    },
    {
      title: "ğŸ’Œ\xa0 Email",
      href: "mailto:ekzhang1@gmail.com",
    },
    {
      title: "ğŸŒ\xa0 Website",
      href: "https://www.ekzhang.com",
    },
  ];

  let selectedInstall = installs[0];

  function scrollToInstallation() {
    installationEl.scrollIntoView({ behavior: "smooth" });
  }
</script>

<div class="overflow-x-hidden absolute inset-0">
  <main class="max-w-screen-xl mx-auto px-4 md:px-8 lg:px-16">
    <header class="my-12">
      <img class="h-16 -mx-1" src={logotypeDark} alt="sshx logo" />
    </header>
    <h1>
      ä¸€ä¸ªåŸºäºç½‘ç»œå®‰å…¨çš„
      <span class="title-gradient">ååŒ</span> ç»ˆç«¯
    </h1>
    <h3>
      <code>
        è¯·æ³¨æ„,å½“å‰ä¸º<a target="_blank"
            rel="noreferrer"
            class="underline underline-offset-2 text-gray-300"
            href="https://tools.0x5c0f.cc/">åšä¸»</a>è‡ªå»ºèŠ‚ç‚¹,ä¸å®˜æ–¹å·®å¼‚ä»…é¦–é¡µç¿»è¯‘ã€‚æ¥è®¿è€…å¯ä»»æ„ä½¿ç”¨ï¼Œä½†è¯·ä¼˜å…ˆä»¥<a target="_blank"
            rel="noreferrer"
            class="underline underline-offset-2 text-gray-300"
            href="https://sshx.io/">å®˜æ–¹</a>ä¸ºå‡†ğŸ™ğŸ™ğŸ™ã€‚</code></h3>

    <div class="relative">
      <div
        class="absolute scale-150 md:scale-100 md:left-[180px] md:top-[-200px] md:w-[1000px] -z-10"
      >
        <img class="select-none" src={landingBackground} alt="" />
      </div>
      <div class="md:absolute md:left-[500px] md:w-[1000px]">
        <img
          class="mt-5 mb-8 w-[720px]"
          width={813}
          height={623}
          src={landingGraphic}
          alt="two terminal windows running sshx and three live cursors"
        />
      </div>
    </div>

    <section class="my-12 space-y-6 text-lg md:max-w-[460px] text-zinc-400">
      <p>
        <code>sshx</code> å…è®¸æ‚¨é€šè¿‡é“¾æ¥ä¸ä»»ä½•äººå…±äº«ç»ˆç«¯, å¹¶ä¸”æ”¯æŒ<b>å¤šäººåä½œã€æ— é™ç»ˆç«¯</b>
      </p>
      <p>
        å®ƒå…·æœ‰<b>å®æ—¶åä½œ</b>, åŒ…æ‹¬è¿œç¨‹å…‰æ ‡å’ŒèŠå¤©ã€‚å®ƒçš„<b>é€Ÿåº¦å¾ˆå¿«</b>å¹¶ä¸”æ˜¯<b>ç«¯åˆ°ç«¯çš„åŠ å¯†</b>ã€‚
        æ˜¯ä½¿ç”¨Rustç¼–å†™çš„è½»é‡æœåŠ¡ã€‚
      </p>
      <p>
        ä½¿ç”¨ä¸€ä¸ªå‘½ä»¤å®‰è£… <code>sshx</code>ï¼Œ å¯ç”¨äºæ•™å­¦ã€è°ƒè¯•ã€æˆ–è€…æ˜¯äº‘è®¿é—®ã€‚
      </p>
    </section>

    <div class="pb-12 md:pb-36">
      <button
        class="bg-pink-700 hover:bg-pink-600 active:ring-4 active:ring-pink-500/50 text-lg font-medium px-8 py-2 rounded-full"
        on:click={scrollToInstallation}
      >
        Get Started
      </button>
    </div>

    <div
      class="mt-8 md:mt-32 grid md:grid-cols-2 xl:grid-cols-3 gap-4 md:gap-6"
    >
      <div class="feature-block">
        <div class="feature-icon">
          <CastIcon size="14" />
        </div>
        <h3>ååŒ</h3>
        <p>é€šè¿‡å…±äº«çš„ç‹¬ç‰¹å®‰å…¨æµè§ˆå™¨é“¾æ¥é‚€è¯·ä»–äººã€‚</p>
      </div>
      <div class="feature-block">
        <div class="feature-icon">
          <HardDriveIcon size="14" />
        </div>
        <h3>è·¨å¹³å°</h3>
        <p>åœ¨macOSå’ŒLinuxä¸Šï¼Œåªéœ€ä¸€ç§’é’Ÿå³å¯å®‰è£…å®¢æˆ·ç«¯ã€‚</p>
      </div>
      <div class="feature-block">
        <div class="feature-icon">
          <ImageIcon size="14" />
        </div>
        <h3>æ— é™ç»ˆç«¯</h3>
        <p>
          å¯ä»¥åˆ›å»ºå¤šä¸ªç»ˆç«¯ï¼Œå¹¶ä¸”ä»»æ„æ’åˆ—å®ƒã€‚
        </p>
      </div>
      <div class="feature-block">
        <div class="feature-icon">
          <RefreshCwIcon size="14" />
        </div>
        <h3>åä½œçŠ¶æ€</h3>
        <p>åœ¨æ“ä½œæ—¶ï¼Œä½ å¯ä»¥å®æ—¶æŸ¥çœ‹å…¶ä»–äººçš„å§“åå’Œå…‰æ ‡</p>
      </div>
      <div class="feature-block">
        <div class="feature-icon">
          <LockIcon size="14" />
        </div>
        <h3>ç«¯åˆ°ç«¯åŠ å¯†</h3>
        <p>
          å®‰å…¨åœ°å‘é€ç»ˆç«¯æ•°æ®;æœåŠ¡å™¨æ°¸è¿œä¸ä¼šçœ‹åˆ°æ‚¨é”®å…¥çš„å†…å®¹ã€‚
        </p>
      </div>
      <div class="feature-block">
        <div class="feature-icon">
          <Share2Icon size="14" />
        </div>
        <h3>è¶…å¿«çš„meshç½‘ç»œ</h3>
        <p>
          ä»ä»»ä½•åœ°æ–¹è¿æ¥åˆ°å…¨çƒç½‘ç»œä¸­æœ€è¿‘çš„åˆ†å¸ƒå¼èŠ‚ç‚¹
        </p>
      </div>
    </div>

    <div class="my-48 hidden md:block">
      <TeaserImage />
    </div>

    <h2 bind:this={installationEl} class="mt-40 mb-16">
      é€šè¿‡<span class="title-gradient">ä¸¤æ­¥</span>å¿«é€Ÿå®‰è£…
    </h2>

    <div
      class="mx-auto max-w-screen-lg grid lg:grid-cols-2 gap-16 lg:text-center mb-12 text-lg text-zinc-300"
    >
      <div class="space-y-6">
        <h3 class="step-heading">
          <span class="pill mr-3">1</span> å®‰è£… <b>CLI</b>
        </h3>
        <p class="text-zinc-400">
          é€šè¿‡ç»ˆä»¥ä¸‹ç»ˆç«¯å‘½ä»¤è·å–<code>sshx</code>CLI
        </p>
        <div class="flex flex-col items-start text-base">
          <div class="flex rounded-t text-sm bg-zinc-900">
            {#each installs as method}
              <button
                class="px-2 py-1 border-l border-t last:border-r border-zinc-500 first:rounded-tl last:rounded-tr"
                class:bg-zinc-700={selectedInstall === method}
                on:click={() => (selectedInstall = method)}
              >
                {method.title}
              </button>
            {/each}
          </div>
          <pre class="rounded-b rounded-r w-full">{selectedInstall.steps}</pre>
        </div>

        <p class="text-zinc-400">
          å¦‚æœä½ æ„¿æ„ï¼Œä½ ä¹Ÿå¯ä»¥ä» <a
            target="_blank"
            rel="noreferrer"
            class="underline underline-offset-2 text-zinc-300"
            href="https://github.com/ekzhang/sshx">æºä»£ç </a
          > æ„å»ºå®ƒã€‚
        </p>
      </div>
      <div class="space-y-6">
        <h3 class="step-heading">
          <span class="pill mr-3">2</span> å…±äº«ä½ çš„ç»ˆç«¯
        </h3>

        <p class="text-zinc-400">ç›´æ¥è¿è¡Œå³å¯</p>

        <pre class="rounded">sshx</pre>

        <p class="text-zinc-400">
          è¿™å°†å¯åŠ¨ä¸€ä¸ªå®æ—¶çš„åŠ å¯†ä¼šè¯ï¼Œåœ¨æ‚¨çš„æµè§ˆå™¨ä¸­æ‰“å¼€é“¾æ¥å³å¯åŠ å…¥ã€‚
        </p>
      </div>
    </div>

    <hr class="mt-40 mb-12" />

    <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-6">
      {#each socials as social}
        <a
          target="_blank"
          rel="noreferrer"
          href={social.href}
          class="border border-zinc-700 hover:bg-zinc-900 transition-colors p-4 text-center text-lg font-medium rounded-lg"
        >
          {social.title}
        </a>
      {/each}
    </div>

    <p class="mb-12 text-center text-zinc-400">
      open source, &copy; Eric Zhang 2023
    </p>
  </main>
  <footer class="text-center text-zinc-400" id='beian'>
      <span>
				<a href="https://beian.mps.gov.cn/#/query/webSearch?code=50010602503871" rel="noreferrer" target="_blank">
					<img src="https://tools.0x5c0f.cc/img/gov.png" style="width: 21px; display: inline-block;vertical-align: middle;margin-right: 1px;"/>   
					æ¸å…¬ç½‘å®‰å¤‡ 50010602503871
				</a>
			</span>
			<span>
				<a href="http://beian.miit.gov.cn" target="_blank">æ¸ICPå¤‡2020011834å·-2</a>
			</span>
		</footer>
</div>

<style lang="postcss">
  h1 {
    @apply font-medium text-4xl sm:text-5xl max-w-[26ch] py-2 sm:tracking-tight;
    line-height: 1.15;
  }

  h2 {
    @apply font-medium text-3xl sm:text-4xl md:text-center scroll-mt-16;
  }

  b {
    @apply text-zinc-300 font-medium;
  }

  code {
    @apply text-[0.9em] text-zinc-200 font-medium bg-zinc-700 px-1 py-0.5 rounded;
  }

  pre {
    @apply bg-zinc-900 p-3 whitespace-pre-wrap border border-zinc-500;
  }

  hr {
    @apply mx-auto md:w-1/2 border-zinc-800;
  }

  .title-gradient {
    @apply text-transparent bg-clip-text bg-gradient-to-r from-fuchsia-400 to-blue-500;
  }

  .feature-block {
    @apply relative border rounded-lg border-transparent p-6 sm:p-8;
    background: #111111 padding-box;
  }

  .feature-block::before {
    content: "";
    @apply absolute inset-0;
    z-index: -1;
    margin: -1px;
    border-radius: inherit;
    background: linear-gradient(
      160deg,
      rgba(255, 255, 255, 0.36) 5%,
      rgba(255, 255, 255, 0.08) 25%,
      rgba(255, 255, 255, 0.24) 50%,
      rgba(255, 255, 255, 0.08) 75%,
      rgba(255, 255, 255, 0.28) 95%
    );
    opacity: 0.5;
    transition: opacity 200ms;
  }

  .feature-block:hover::before {
    opacity: 1;
  }

  .feature-block h3 {
    @apply font-medium mb-2;
  }

  .feature-block p {
    @apply text-zinc-400;
  }

  .feature-icon {
    @apply inline-block p-3 rounded-full mb-3 shadow-md border border-zinc-600;
  }

  .step-heading {
    @apply text-2xl text-zinc-200 font-medium flex items-center md:justify-center;
  }

  .pill {
    @apply flex justify-center items-center w-7 h-7 rounded-full;
    @apply text-base font-normal border border-current;
  }
</style>
